--- filter.c+orig	2006-12-21 08:28:51.000000000 -0800
+++ filter.c	2006-12-21 08:29:29.000000000 -0800
@@ -154,6 +154,7 @@ bool filter_apply_chain (struct filter *
 	if (pid == 0) {
 		/* child */
 		close (pipes[1]);
+		clearerr(stdin);
 		if (dup2 (pipes[0], 0) == -1)
 			flexfatal (_("dup2(pipes[0],0)"));
 		close (pipes[0]);
